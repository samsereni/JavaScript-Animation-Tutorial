<!-- sviluppiamo un animazione in Javascript -->
<!-- @samsereni 1/11/2025 -->
<!-- strumenti: un editor (notepad++) e un browser (firefox) -->
<html>
<head>
	<title>Animazione</title>
	<style>
	body{position:relative;width:100vw;height:100vh}
	</style>
</head>
<body>
	<canvas id="game"></canvas>
	<button onclick="Animazione.start()">Start</button>
	<button onclick="Animazione.stop()">Stop</button>
<script>

const Animazione={
	inEsecuzione:false,
	frameId:null,
	gameloop:function(){
		if(!Animazione.inEsecuzione)return;
		
		//aggiornamenti degli oggetti di scena
		console.log("Aggiornamento:",Animazione.frameId);
		
		Animazione.frameId=requestAnimationFrame(Animazione.gameloop);
	},
	start(){
		if(Animazione.inEsecuzione)return;
		
		Animazione.frameId=requestAnimationFrame(Animazione.gameloop);
		Animazione.inEsecuzione=true;
		console.log("Animazione avviata")
	},
	stop(){
		if(!Animazione.inEsecuzione)return;
		
		cancelAnimationFrame(Animazione.frameId);
		Animazione.inEsecuzione=false;
		console.log("Animazione fermata")
	}
}


</script>
</body>
</html>
